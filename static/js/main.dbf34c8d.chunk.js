(this["webpackJsonptv-maze"]=this["webpackJsonptv-maze"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(27),r=a.n(c),i=(a(60),a(4)),o=a(3),l=a(5),j=a(7),u=a(52),h=a(1),d=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(l.f)();return Object(h.jsxs)("nav",{children:[Object(h.jsx)(o.Container,{children:Object(h.jsxs)(o.Row,{nogutter:!0,align:"center",className:"top__nav",children:[Object(h.jsx)("div",{className:"logo",children:"TV MAZE"}),Object(h.jsxs)("form",{className:"nav__form",onSubmit:function(e){e.preventDefault(),a&&(c.push("/search/shows/".concat(a)),s(""))},children:[Object(h.jsx)("input",{className:"nav__form__input",type:"text",value:a,onChange:function(e){return s(e.target.value)}}),Object(h.jsx)("button",{className:"nav__form__button",type:"submit",children:Object(h.jsx)(u.a,{})})]})]})}),Object(h.jsx)("div",{className:"site__nav",children:Object(h.jsxs)(o.Container,{children:[Object(h.jsx)(j.c,{className:"site__nav__link",exact:!0,to:"/",children:"Home"}),Object(h.jsx)(j.c,{className:"site__nav__link",to:"/shows",children:"Shows"}),Object(h.jsx)(j.c,{className:"site__nav__link",to:"/favorites",children:"Favorites"})]})})]})},b=a(19),m=a(13),O=a.n(m),x=a(16),_=a(25),g=a.n(_),p=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:null,error:null},e.prev=1,e.next=4,t;case 4:a.data=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.error=e.t0;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(g.a.get("https://api.tvmaze.com/shows").then((function(e){return e.data})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(g.a.get("https://api.tvmaze.com/schedule?country=US&date=".concat(t)).then((function(e){return e.data})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(g.a.get("https://api.tvmaze.com/search/shows?q=".concat(t)).then((function(e){return e.data})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(g.a.get("https://api.tvmaze.com/shows/".concat(t,"?embed[]=episodes&embed[]=cast&embed[]=seasons")).then((function(e){return e.data})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=a(26),C=s.a.createContext(),k=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),l=o[0],j=o[1],u=Object(S.b)({enter:"animate__animated animate__bounceIn",exit:"animate__animated animate__bounceOut"});return Object(n.useEffect)((function(){f().then((function(e){c(e.data)}))}),[]),Object(h.jsxs)(C.Provider,{value:{allShows:s,favorites:l,addFavorites:function(e){if(l.some((function(t){return t.id===e.id}))){var t=l.filter((function(t){return t.id!==e.id}));j(t),S.c.error("Show ".concat(e.name," removed from your farvorites"),{transition:u,autoClose:2e3,hideProgressBar:!0,className:"toast__error"})}else j([].concat(Object(b.a)(l),[e])),S.c.success("Show ".concat(e.name," added to your favorites!"),{transition:u,autoClose:2e3,hideProgressBar:!0,className:"toast__succes"})}},children:[Object(h.jsx)(S.a,{}),e.children]})},y=a(24),B=a(18),A=function(e){var t=e.show,a=Object(n.useState)(!1),s=Object(i.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(n.useContext)(C),m=(b.favorites,b.addFavorites);return Object(h.jsx)("div",{onClick:function(){r(!c)},className:"showcard ".concat(c?"cardflip":""),children:Object(h.jsxs)("div",{className:"showcard__container",children:[Object(h.jsx)("div",{className:"showcard__front",children:t.image?Object(h.jsx)("img",{className:"showcard__image",src:t.image.medium,alt:""}):Object(h.jsx)(B.RectShape,{className:"showcard__placeholder"})}),Object(h.jsxs)("div",{className:"showcard__back",children:[Object(h.jsxs)("div",{className:"showcard__back__body",children:[Object(h.jsx)("h3",{className:"showcard__back__name",children:t.name}),Object(h.jsxs)("p",{className:"showcard__back__language",children:["Languge:",t.language]}),Object(h.jsxs)("div",{className:"showcard__back__icons",children:[Object(h.jsxs)("div",{className:"rating",children:[Object(h.jsx)(y.b,{}),Object(h.jsxs)("span",{children:[" ",t.rating.average]})]}),Object(h.jsxs)("div",{onClick:function(e){return function(e,t){e.stopPropagation(),m(t),d(!u)}(e,t)},className:"favorites",children:[Object(h.jsx)(y.a,{className:"hiddenHeart"}),Object(h.jsx)(y.a,{className:"emptyHeart ".concat(u?"pulsingHeart":""," ")})]})]})]}),Object(h.jsx)(j.b,{to:"/shows/".concat(t.id),className:"showcard__back__link",children:"View more"})]})]})})},F=a(53),R=a.n(F),M=function(e){var t=e.shows,a=Object(n.useState)(0),s=Object(i.a)(a,2),c=s[0],r=s[1],l=12*c,j=Math.ceil(t.length/12),u=t.slice(l,l+12).map((function(e){return Object(h.jsx)(o.Col,{sm:6,md:4,lg:3,children:Object(h.jsx)(A,{show:e})},e.id)}));return Object(h.jsxs)(o.Row,{className:"shows__row",children:[u,t.length<12?null:Object(h.jsx)(R.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:j,onPageChange:function(e){var t=e.selected;r(t)},containerClassName:"pagination",previousLinkClassName:"previousBttn",nextLinkClassName:"nextBttn",disabledClassName:"paginationDisabled",activeClassName:"paginationActive"})]})},P=a(29),T=a(14),I=function(e){var t=e.fillterShows,a=Object(n.useState)({genres:"",language:"",rating:""}),s=Object(i.a)(a,2),c=s[0],r=s[1],o=["Abkhazian","Afar","Afrikaans","Akan","Albanian","Amharic","Arabic","Aragonese","Armenian","Assamese","Avaric","Avestan","Aymara","Azerbaijani","Bambara","Bashkir","Basque","Belarusian","Bengali","Bislama","Bosnian","Breton","Bulgarian","Burmese","Central Khmer","Chamorro","Chechen","Chinese","Chuvash","Cornish","Corsican","Cree","Croatian","Czech","Danish","Dzongkha","English","Esperanto","Estonian","Ewe","Faroese","Fijian","Finnish","French","Fulah","Galician","Ganda","Georgian","German","Guarani","Gujarati","Hausa","Hebrew","Herero","Hindi","Hiri Motu","Hungarian","Icelandic","Ido","Igbo","Indonesian","Interlingue","Inuktitut","Inupiaq","Irish","Italian","Japanese","Javanese","Kannada","Kanuri","Kashmiri","Kazakh","Kinyarwanda","Komi","Kongo","Korean","Kurdish","Kyrgyz","Lao","Latin","Latvian","Lingala","Lithuanian","Macedonian","Malagasy","Malay","Malayalam","Maltese","Manx","Maori","Marathi","Marshallese","Mongolian","Nauru","Ndonga","Nepali","Northern Sami","Norwegian","Ojibwa","Oriya","Oromo","Pali","Persian","Polish","Portuguese","Quechua","Romansh","Rundi","Russian","Samoan","Sango","Sanskrit","Sardinian","Serbian","Shona","Sindhi","Slovak","Slovenian","Somali","South Ndebele","Spanish","Sundanese","Swahili","Swati","Swedish","Tagalog","Tahitian","Tajik","Tamil","Tatar","Telugu","Thai","Tibetan","Turkish","Ukrainian","Urdu","Uzbek","Venda","Vietnamese","Welsh","Wolof","Zulu"],l=["Action","Adult","Adventure","Anime","Children","Comedy","Crime","DIY","Drama","Espionage","Family","Fantasy","Food","History","Horror","Legal","Medical","Music","Mystery","Nature","Romance","Science-Fiction","Sports","Supernatural","Thriller","Travel","War","Western"],j=function(e){r(Object(T.a)(Object(T.a)({},c),{},Object(P.a)({},e.target.name,e.target.value)))};return Object(h.jsxs)("form",{className:"sideBar__form",onSubmit:function(e){e.preventDefault(),Object.keys(c).forEach((function(e){return""===c[e]&&delete c[e]})),t(c)},children:[Object(h.jsxs)("div",{className:"sideBar__form__group",children:[Object(h.jsx)("label",{htmlFor:"language",children:"Language:"}),Object(h.jsxs)("select",{className:"sideBar__form__language",name:"language",id:"language",value:c.language,onChange:j,children:[Object(h.jsx)("option",{disabled:!0,value:""}),o.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]})]}),Object(h.jsxs)("div",{className:"sideBar__form__group",children:[Object(h.jsx)("label",{htmlFor:"genres",children:"Genre:"}),Object(h.jsxs)("select",{value:c.genres,name:"genres",id:"genres",className:"sideBar__form__genres",onChange:j,children:[Object(h.jsx)("option",{value:""}),l.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]})]}),Object(h.jsxs)("div",{className:"sideBar__form__group",children:[Object(h.jsx)("label",{htmlFor:"rating",children:"Rating:"}),Object(h.jsxs)("select",{value:c.rating,name:"rating",id:"rating",className:"sideBar__form__rating",onChange:j,children:[Object(h.jsx)("option",{value:""}),[2,3,4,5,6,7,8,9].map((function(e,t){return Object(h.jsx)("option",{value:e,children:"".concat(e,"+")},t)}))]})]}),Object(h.jsx)("button",{className:"sideBar__form__submit",children:"Filter"})]})},L=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useContext)(C).allShows;return Object(n.useEffect)((function(){s(c)}),[c]),Object(h.jsxs)(o.Row,{gutterWidth:30,className:"shows__page",children:[Object(h.jsx)(o.Col,{className:"sideBar",md:4,lg:3,children:Object(h.jsx)(I,{fillterShows:function(e){var t={genres:function(t){return t.includes(e.genres)},language:function(t){return t===e.language},rating:function(t){return t.average>parseInt(e.rating)}},a=Object.keys(e),n=c.filter((function(e){return a.every((function(a){return"function"!==typeof t[a]||t[a](e[a])}))}));s(n)}})}),Object(h.jsx)(o.Col,{xs:12,md:8,lg:9,children:Object(h.jsx)(M,{shows:a})})]})},z=a(54),E=function(e){var t=e.show;return Object(h.jsxs)(o.Row,{children:[Object(h.jsx)(o.Col,{sm:6,md:6,lg:3,children:Object(h.jsx)("div",{className:"img__container",children:t.image?Object(h.jsx)("img",{className:"singleShow__cover",src:t.image.medium,alt:""}):Object(h.jsx)(B.RectShape,{className:"showcard__placeholder"})})}),Object(h.jsxs)(o.Col,{sm:6,md:6,lg:6,className:"singleShow__info",children:[Object(h.jsx)("h3",{children:t.name}),Object(h.jsx)("div",{children:t.genres.map((function(e,t){return Object(h.jsx)("span",{className:"singleShow__genre",children:e},t)}))}),Object(h.jsx)(z.a,{className:"singleShow__info__summary",content:t.summary}),Object(h.jsxs)("div",{className:"singleShow__info__card",children:[Object(h.jsxs)("p",{children:["Network:",Object(h.jsx)("span",{children:t.network.name})]}),Object(h.jsxs)("p",{children:["Schedule:",Object(h.jsxs)("span",{children:[t.schedule.days," at ",t.schedule.time]})]}),Object(h.jsxs)("p",{children:["Status:",Object(h.jsx)("span",{children:t.status})]}),Object(h.jsxs)("p",{children:["Type:",Object(h.jsx)("span",{children:t.type})]}),Object(h.jsxs)("p",{children:["Rating:",Object(h.jsx)("span",{children:t.rating.average})]}),Object(h.jsxs)("p",{children:["Premiered:",Object(h.jsx)("span",{children:t.premiered})]})]})]})]})},H=function(e){var t=e.seasons,a=e.episodes;return Object(h.jsx)(o.Row,{className:"seasons",children:t&&Object(b.a)(Array(t.length)).map((function(e,t){return Object(h.jsxs)(o.Col,{lg:8,offset:{lg:2},children:[Object(h.jsxs)("h3",{children:["Season ",t+1]}),Object(h.jsxs)("table",{className:"seasons__table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{className:"seasons__header",children:[Object(h.jsx)("th",{children:"Number"}),Object(h.jsx)("th",{children:"Date"}),Object(h.jsx)("th",{children:"Name"})]})}),a.map((function(e){return e.season===t+1&&Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.number}),Object(h.jsx)("td",{children:e.airdate}),Object(h.jsx)("td",{children:e.name})]},e.id)}))]},t)]},t)}))})},K=function(e){var t=e.cast;return Object(h.jsx)(o.Row,{className:"cast",children:t.map((function(e){return Object(h.jsx)(o.Col,{xs:6,lg:6,children:Object(h.jsxs)(o.Row,{className:"cast__row",align:"center",children:[Object(h.jsx)(o.Col,{xs:6,lg:4,children:e.character.image?Object(h.jsx)("img",{alt:"actor's face",className:"cast__img",src:e.character.image.medium}):Object(h.jsx)(B.RectShape,{className:"cast__placeHolder"})}),Object(h.jsxs)(o.Col,{xs:6,lg:8,children:[Object(h.jsx)("p",{className:"cast__character",children:e.character.name}),Object(h.jsx)("p",{className:"cast__as",children:"as"}),Object(h.jsx)("p",{className:"cast__name",children:e.person.name})]})]})},e.person.id)}))})},D=function(e){var t=e.match,a=Object(n.useState)({image:{},genres:[],network:{},schedule:{},rating:{}}),s=Object(i.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),d=u[0],b=u[1],m=Object(n.useState)([]),O=Object(i.a)(m,2),x=O[0],_=O[1],g=Object(n.useState)([]),p=Object(i.a)(g,2),f=p[0],v=p[1],w=Object(l.h)(),S=w.url,C=w.path;return Object(n.useEffect)((function(){N(t.params.id).then((function(e){r(e.data),b(e.data._embedded.episodes),_(e.data._embedded.seasons),v(e.data._embedded.cast)}))}),[]),Object(h.jsxs)("div",{className:"singleShow",children:[Object(h.jsxs)("div",{className:"singleShow__nav",children:[Object(h.jsx)(j.c,{className:"singleShow__nav__link",exact:!0,to:"".concat(S),children:"Main"}),Object(h.jsx)(j.c,{className:"singleShow__nav__link",exact:!0,to:"".concat(S,"/episodes"),children:"Eisodes"}),Object(h.jsx)(j.c,{className:"singleShow__nav__link",exact:!0,to:"".concat(S,"/cast"),children:"Cast"})]}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"".concat(C,"/episodes"),exact:!0,render:function(e){return Object(h.jsx)(H,Object(T.a)(Object(T.a)({},e),{},{episodes:d,seasons:x}))}}),Object(h.jsx)(l.a,{path:"".concat(C,"/cast"),exact:!0,render:function(e){return Object(h.jsx)(K,Object(T.a)(Object(T.a)({},e),{},{cast:f}))}}),Object(h.jsx)(l.a,{path:"".concat(C),exact:!0,render:function(e){return Object(h.jsx)(E,Object(T.a)(Object(T.a)({},e),{},{show:c}))}})]})]})},W=function(){return Object(h.jsx)("div",{className:"loader__container",children:Object(h.jsx)("svg",{height:"100",width:"100",children:Object(h.jsx)("circle",{cx:"50",cy:"50",r:"40",strokeWidth:"6"})})})},G=function(e){var t=e.schedule,a=["21:00","22:00","23:00","23:59"],n=a.map((function(e,n){return Object(h.jsxs)("ul",{className:"schedule__list",children:[n===a.length-1?null:Object(h.jsx)("h3",{children:e}),t.filter((function(t){return t.airtime>=e&&t.airtime<a[n+1]})).map((function(e){return Object(h.jsxs)("li",{className:"schedule__list__item",children:[Object(h.jsxs)("div",{className:"schedule__list__item__left",children:[Object(h.jsx)("p",{className:"time",children:e.airtime}),e.show.network?Object(h.jsx)("p",{className:"network",children:Object.values(e.show.network)[1]}):""]}),Object(h.jsxs)("div",{className:"schedule__list__item__right",children:[Object(h.jsx)("p",{className:"showName",children:e.show.name}),Object(h.jsx)("p",{className:"event",children:e.name})]})]},e.id)}))]},n)}));return Object(h.jsx)(o.Row,{children:Object(h.jsx)(o.Col,{lg:12,children:n})})},q=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),r=Object(i.a)(c,2),l=r[0],u=r[1],d=Object(n.useState)(!0),m=Object(i.a)(d,2),O=m[0],x=m[1],_=Object(n.useContext)(C).allShows,g=new Date,p=g.toISOString().slice(0,10);g.toLocaleTimeString("en-IT",{hour:"2-digit",minute:"2-digit",hour12:!1});Object(n.useEffect)((function(){_!==[]&&x(!O),v(p).then((function(e){s(e.data)}))}),[p]);var f=_.filter((function(e){return 100===e.weight}));f.length=6;var w=Object(b.a)(a);return w.length=l?a.length:6,Object(h.jsx)(h.Fragment,{children:O?Object(h.jsx)(W,{}):Object(h.jsx)(o.Container,{children:Object(h.jsxs)(o.Row,{gutterWidth:30,className:"homePage",children:[Object(h.jsxs)(o.Col,{xs:12,sm:12,md:6,lg:8,children:[Object(h.jsx)("h3",{children:"Most poular shows"}),Object(h.jsx)(o.Row,{gutterWidth:10,children:f.map((function(e){return Object(h.jsx)(o.Col,{xs:6,sm:6,md:6,lg:4,xl:2,children:Object(h.jsx)(A,{show:e})},e.id)}))}),Object(h.jsx)(j.b,{className:"homePage__link__button",to:"./shows",children:"All Shows"}),Object(h.jsx)("h3",{children:"Shows showing today"}),Object(h.jsx)(o.Row,{gutterWidth:10,children:w.map((function(e){return Object(h.jsx)(o.Col,{xs:6,sm:6,md:6,lg:4,xl:2,children:Object(h.jsx)(A,{show:e.show})},e.id)}))}),Object(h.jsx)("button",{onClick:function(){return u(!l)},className:"homePage__link__button",children:"See all"})]}),Object(h.jsx)(o.Col,{xs:12,sm:12,md:6,lg:4,children:Object(h.jsx)(G,{schedule:a})})]})})})},J=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(l.g)();return Object(n.useEffect)((function(){w(c.query).then((function(e){var t=[];e.data.map((function(e){return t.push(e.show)})),s(t)}))}),[c.query]),Object(h.jsx)(o.Row,{children:a.map((function(e){return Object(h.jsx)(o.Col,{lg:2,children:Object(h.jsx)(A,{show:e})},e.id)}))})},U=(a(101),a(102),a(103),function(){var e=Object(n.useContext)(C).favorites;return Object(h.jsxs)(o.Row,{nogutter:!0,className:"favoritesPage",children:[Object(h.jsx)("h2",{children:"Favorites"}),Object(h.jsx)(o.Col,{xs:12,children:e?Object(h.jsx)(M,{shows:e}):null})]})});var V=function(){return Object(h.jsx)(k,{children:Object(h.jsx)(j.a,{basename:"/tv-maze",children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(d,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/",component:q}),Object(h.jsx)(l.a,{path:"/shows",exact:!0,component:L}),Object(h.jsx)(l.a,{path:"/shows/:id",component:D}),Object(h.jsx)(l.a,{path:"/favorites",component:U}),Object(h.jsx)(l.a,{exact:!0,path:"/search/shows/:query",component:J})]})]})})})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,105)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(V,{})}),document.getElementById("root")),Z()},60:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.dbf34c8d.chunk.js.map